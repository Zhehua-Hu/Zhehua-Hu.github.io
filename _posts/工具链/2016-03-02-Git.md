---
layout: post
title: Git学习之路
category: 工具链
tags:
    效率工具链
    学习之路
    Git
keywords:
description:
---

## 绪论


---
## 准备工作

### 初始化
目的是使用git生成管理框架，实质上是生成.git文件夹等文件。

对于新建立的工程，cd进项目文件夹
```
git init
```
即可初始化。


### 设置
目的是在一台计算机上配置好后方便使用git。本文假定使用场景存在远程服务器，如github或自建服务器。

* 为方便修改设置，在shell中设置以下变量（修改为你的账号）

```
GITHUB_USE_RNAME=Zhehua-Hu
GITHUB_USER_EMAIL=ZhehuaHu@163.com
PRO_NAME=Enchain
```

*  添加用户

输入设置命令

```
git config --global user.name \"${GITHUB_USE_RNAME}\"
git config --global user.email \"${GITHUB_USER_EMAIL}\"
```

可以使用以下命令检查

```
# 第1条命令是查看本地配置的用户名，
# 第2条命令是查看全局配置的用户名，
# 第3条命令是查看优先级最高的用户名，
# 如果有本地配置项，就读取本地配置项，
# 如果没有本地配置项，就读取全局配置项。
git config --get --local user.name
git config --get --global user.name
git config --get user.name
```

* 设置SSH密钥
目的是

```
cd ~
mkdir -p .ssh
cd ~/.ssh

ssh-keygen -t rsa -C \"${GITHUB_USER_EMAIL}\"
# 输入保存的文件名，如id_rsa
# 输入保存密码，
# 重复输入
# 文件已生成

# copy pub key to github

# 检查
ssh -T git@github.com
# 若显示 "...You've successfully authenticated..."则完成
cd $cur_pwd
```

[图解](http://www.xuanfengge.com/using-ssh-key-link-github-photo-tour.html)

touch id_rsa_coding
touch id_rsa_coding.pub
ssh-keygen -t rsa -C "zhehua@zhehua.info"
---
## 零级用法
下图是最简化的git原理

![]({{site.zhehua.images}}/Toolchain/Git/git.png)

* 在github新建项目后，使用SSH方式clone下来，初次提交需要
* Clone remote code
```
#SSH (This type enbale you type password no more)
git clone git@github.com:${GITHUB_USE_RNAME}/${PRO_NAME}

#HTTP (Easy to code from others)
git clone https://github.com/${GITHUB_USE_RNAME}/${PRO_NAME}	
```


```
git remote add origin git@github.com:Zhehua-Hu/Zhehua-Hu.github.io.git
git push -u origin master
```

* Push local code
```
git remote add origin git@github.com:${GITHUB_USE_RNAME}/${PRO_NAME}.git
git push -u origin master
#OR
git push origin master
```
* Check
Show weblink
```
git remote -v
```


Rename respositoy
```
git remote rename <origin> <new>
```

Remove respositoy
```
git remote rm hostname
```

git remote set-url --add --push origin git@git.coding.net:zhehua/zhehua.git

```
touch firstfile
# Do Something
git add firstfile 
git commit -m "first file, OLO"
git push origin master 
```



## Step 2 Adding files and commit
```
git add *
git add --all
git add <list of files>
git add <list of directory>
git add "<list>"

git commit -m "your comments"
```







## Step 4 Version control
### Branch
```
查看分支：git branch

创建分支：git branch <name>

切换分支：git checkout <name>

recover certain file :git checkout -- filename

创建+切换分支：git checkout -b <name>

合并某分支到当前分支：git merge <name>
(recommend)git merge --no-ff -m "merge with no-ff" <name>

删除分支：git branch -d <name>
```
### Stash work
```
git stash
git stash list
git stash pop

```


### Tag
```
git tag
git tag <name>
git show <name>

show <sha1> :git log --pretty=oneline --abbrev-c网络ommit
git tag -a <name> -m "comments" <sha1>



命令git push origin <tagname>可以推送一个本地标签；

命令git push origin --tags可以推送全部未推送过的本地标签；

命令git tag -d <tagname>可以删除一个本地标签；

命令git push origin :refs/tags/<tagname>可以删除一个远程标签。

```

## Syntax

exclusive usage:
* for folder
> start with "/"

* 1 char
"?"

* n(>=1) chars
"*"

* match list
[<regex>]

inclusive usage:
start with "!"

**Git cannot add a completely empty directory, you can add .gitkeep file in the empty file you want to push**

### Others
```
git reset --hard HEAD~n
git reset --hard sha1(at least 4 numbers)

git rm
```
## Alias
```
git lg:
git config --global alias.lg "log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit"
```

# gitignore
[Demo gitignore](https://github.com/github/gitignore)

## Syntax网络

exclusive usage:
* for folder
> start with "/"

* 1 char
"?"

* n(>=1) chars
"*"

* match list
[<regex>]

inclusive usage:
start with "!"

**Git cannot add a completely empty directory, you can add .gitkeep file in the empty file you want to push**

## Cmake
```
CMakeCache.txt
CMakeFiles
CMakeScripts
Makefile
cmake_install.cmake
install_manifest.txt
CTestTestfile.cmake
```


## Tools
```
git status
git diff
git log
git log --pretty=oneline
git log --pretty=oneline --graph --abbrev-commit
git log --pretty=oneline --abbrev-commit
```

## Reference

* 网络资源
[廖雪峰中文教程](http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000)

[Git远程操作详解](http://www.ruanyifeng.com/blog/2014/06/git_remote.html)

[GotGitHub](http://www.worldhello.net/gotgithub/)

[English Tutorial](https://try.github.io)



git@github.com:Zhehua-Hu/Enchain.wiki.git

* 进阶资源